
@{
    ViewData["Title"] = "ShowsWorker";
    @model Kursachtry3.Models.ViewModel.ShowWorkerEdit;
}

<h2>ShowsWorker</h2>

<div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="Drivers-tab">
    <table class="table table-hover table-striped">
        <thead>
            <tr>
                <th scope="col">
                    Name <a class="nav-link dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style=" float: left; width: 10px;">
                        <span class="sr-only">Toggle Dropdown</span>
                    </a>
                    <div class="dropdown-menu">
                        <form asp-antiforgery="true" method="post">
                            <input list="manufacturer-list" class="form-control" name="manfilt">
                            <datalist id="manufacturer-list">
                                @{
                                    foreach (var j in Model.workersmass)
                                    {
                                        <option value="@j.fullname">@j.fullname</option>
                                    }
                                }
                            </datalist>
                        </form>
                    </div>
                </th>
                <th scope="col">Age</th>
                <th scope="col">Namber</th>
                <th scope="col">Profession</th>
                <th scope="col">Start data</th>
                <th scope="col">End data</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            @{
                foreach (var i in Model.workers )
                {
                    <tr>
                        <td>@i.fullname</td>
                        <td>@i.age</td>
                        <td>@i.namber</td>
                        <td>@i.work_data.FirstOrDefault().profession.name</td>
                        <td>@i.work_data.FirstOrDefault().date_start</td>
                        <td>@i.work_data.FirstOrDefault().date_end</td>
                        <td>
                            <form asp-antiforgery="true" method="post">
                                <input type="hidden" name="id" value="@i.Worker_Key" />
                                <input type="submit" class="btn btn-warning" style="font-weight:700; float:right;" value="Edit" name="action" />
                            </form>
                            <form asp-antiforgery="true" method="post">
                                <input type="hidden" name="id" value="@i.Worker_Key" />
                                <input type="submit" class="btn btn-danger" style="font-weight:700; float:right;" value="Delete" name="action" />
                            </form>
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>